{"version":3,"sources":["../src/utils.js"],"names":["asArray","obj","Object","keys","map","k","serviceAccount","require","firebaseAppROOT","initializeApp","databaseURL","getFirebaseApp","uid","console","error","app","e","databaseAuthVariableOverride","database","databaseFor","FACEBOOK_API_CONFIG","appID","appSecret","appAccessToken","fb","create","baseURL","params"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEO,IAAMA,4BAAU,SAAVA,OAAU,CAACC,GAAD;AAAA,SAASC,OAAOC,IAAP,CAAYF,GAAZ,EAAiBG,GAAjB,CAAqB,UAACC,CAAD;AAAA,WAAOJ,IAAII,CAAJ,CAAP;AAAA,GAArB,CAAT;AAAA,CAAhB;;AAEP,IAAMC,iBAAiBC,QAAQ,sCAAR,CAAvB;;AAEO,IAAMC,4CAAkB,mBAASC,aAAT,CAAuB;AACpDC,eAAa,kCADuC;AAEpDJ;AAFoD,CAAvB,EAG5B,MAH4B,CAAxB;;AAKA,IAAMK,0CAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAS;AACrC,MAAG,CAACA,GAAJ,EAASC,QAAQC,KAAR,CAAc,4BAAd,EAA6C;AACtD,MAAIC,GAAJ;AACA,MAAI;AACFA,UAAM,mBAASA,GAAT,CAAaH,GAAb,CAAN;AACD,GAFD,CAGA,OAAMI,CAAN,EAAS;AACPD,UAAM,mBAASN,aAAT,CAAuB;AAC3BC,mBAAa,kCADc;AAE3BJ,oCAF2B;AAG3BW,oCAA8B;AAC5BL;AAD4B;AAHH,KAAvB,EAMHA,GANG,CAAN;AAOD;AACD,SAAOG,GAAP;AACD,CAhBM;;AAkBA,IAAMG,8BAAWV,gBAAgBU,QAAhB,EAAjB;AACA,IAAMC,oCAAc,SAAdA,WAAc,CAACP,GAAD;AAAA,SAASD,eAAeC,GAAf,EAAoBM,QAApB,EAAT;AAAA,CAApB;;AAEA,IAAME,oDAAsB;AAClCC,SAAO,kBAD2B;AAElCC,aAAW,kCAFuB;AAGlCC,kBAAgB;AAHkB,CAA5B;;AAMA,IAAMC,kBAAK,gBAAMC,MAAN,CAAa;AAC7BC,WAAS,kCADoB;AAE7BC,UAAQ,EAAC,gBAAgBP,oBAAoBG,cAArC;AAFqB,CAAb,CAAX","file":"utils.js","sourcesContent":["import firebase from 'firebase';\nimport axios from 'axios';\n\nexport const asArray = (obj) => Object.keys(obj).map((k) => obj[k]);\n\nconst serviceAccount = require('../config/proco-service-account.json');\n\nexport const firebaseAppROOT = firebase.initializeApp({\n  databaseURL: \"https://proco-app.firebaseio.com\",\n  serviceAccount\n}, 'ROOT');\n\nexport const getFirebaseApp = (uid) => {\n  if(!uid) console.error('YOU NEED TO SPECIFY AN UID'); return;\n  var app;\n  try {\n    app = firebase.app(uid);\n  }\n  catch(e) {\n    app = firebase.initializeApp({\n      databaseURL: \"https://proco-app.firebaseio.com\",\n      serviceAccount,\n      databaseAuthVariableOverride: {\n        uid\n      }\n    }, uid);\n  }\n  return app;\n};\n\nexport const database = firebaseAppROOT.database();\nexport const databaseFor = (uid) => getFirebaseApp(uid).database();\n\nexport const FACEBOOK_API_CONFIG = {\n\tappID: '1169837529717559',\n\tappSecret: '85dca638c5c065f955c4cc0522c66d41',\n\tappAccessToken: '1169837529717559|NpUPQjrjLsUVJb-Lx2nm4n1qJBI',\n};\n\nexport const fb = axios.create({\n  baseURL: 'https://graph.facebook.com/v2.7/',\n  params: {'access_token': FACEBOOK_API_CONFIG.appAccessToken}\n});\n"]}